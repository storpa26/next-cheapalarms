@import "../design-system/theme/index.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Compatibility layer - bridge old â†’ new variables during migration */
/* Remove after all components are migrated */
@layer base {
  :root {
    /* Map old variables to new (temporary) */
    --background: var(--color-bg);
    --foreground: var(--color-text);
    --primary: var(--color-primary);
    --primary-foreground: var(--color-primary-foreground);
    --secondary: var(--color-secondary);
    --secondary-foreground: var(--color-secondary-foreground);
    --muted: var(--color-muted);
    --muted-foreground: var(--color-text-muted);
    --border: var(--color-border);
    --input: var(--color-input);
    --ring: var(--color-ring);
    --card: var(--color-surface);
    --card-foreground: var(--color-text);
    --popover: var(--color-elevated);
    --popover-foreground: var(--color-text);
    
    /* Additional variables for legacy support */
    --radius: 0.75rem; /* Default border radius */
    --accent: var(--color-muted); /* Fallback to muted for accent */
    --accent-foreground: var(--color-text);
  }
}

body {
  margin: 0;
  font-family: var(--font-inter), 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background-color: hsl(var(--color-bg));
  color: hsl(var(--color-text));
}

a {
  color: inherit;
  text-decoration: none;
}

/* Using tailwind.config.js for theme configuration (Tailwind v3) */

.dark {
  --background: #0d1117;
  --foreground: #f9fafb;

  --primary: #f08ca6;
  --primary-foreground: #111827;

  --secondary: #2fb6c9;
  --secondary-foreground: #0d1117;

  --muted: #1f2937;
  --muted-foreground: #9ca3af;

  --accent: #1f2937;
  --accent-foreground: #f9fafb;

  --border: #1f2937;
  --input: #1f2937;
  --ring: #2fb6c9;

  --card: #111827;
  --card-foreground: #f9fafb;

  --popover: #111827;
  --popover-foreground: #f9fafb;
}

@layer base {
  :root {
    --font-inter: var(--font-inter);
  }
  
  body {
    font-family: var(--font-inter), 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    background-color: hsl(var(--color-bg));
    color: hsl(var(--color-text));
  }
}

@layer utilities {
  /* Custom animations for activity feed */
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  
  @keyframes glow {
    0%, 100% {
      opacity: 0.5;
    }
    50% {
      opacity: 1;
    }
  }
  
  /* Select dropdown animations */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  @keyframes scaleIn {
    from {
      transform: scale(0.95);
    }
    to {
      transform: scale(1);
    }
  }
  
  @keyframes ripple {
    from {
      transform: scale(0);
      opacity: 1;
    }
    to {
      transform: scale(4);
      opacity: 0;
    }
  }
  
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  
  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }
  
  /* Toast styling - Brand colors per type */
  .toaster [data-sonner-toast][data-type="success"] {
    background-color: hsl(var(--color-success-bg)) !important;
    border-color: hsl(var(--color-success) / 0.5) !important;
    color: hsl(var(--color-text)) !important;
  }
  
  .toaster [data-sonner-toast][data-type="success"] svg {
    color: hsl(var(--color-success)) !important;
  }
  
  .toaster [data-sonner-toast][data-type="error"] {
    background-color: hsl(var(--color-error-bg)) !important;
    border-color: hsl(var(--color-error) / 0.5) !important;
    color: hsl(var(--color-text)) !important;
  }
  
  .toaster [data-sonner-toast][data-type="error"] svg {
    color: hsl(var(--color-error)) !important;
  }
  
  .toaster [data-sonner-toast][data-type="warning"] {
    background-color: hsl(var(--color-warning-bg)) !important;
    border-color: hsl(var(--color-warning) / 0.5) !important;
    color: hsl(var(--color-text)) !important;
  }
  
  .toaster [data-sonner-toast][data-type="warning"] svg {
    color: hsl(var(--color-warning)) !important;
  }
  
  .toaster [data-sonner-toast][data-type="info"] {
    background-color: hsl(var(--color-info-bg)) !important;
    border-color: hsl(var(--color-info) / 0.5) !important;
    color: hsl(var(--color-text)) !important;
  }
  
  .toaster [data-sonner-toast][data-type="info"] svg {
    color: hsl(var(--color-info)) !important;
  }
  
  .toaster [data-sonner-toast][data-type="loading"] {
    background-color: hsl(var(--color-info-bg)) !important;
    border-color: hsl(var(--color-info) / 0.5) !important;
    color: hsl(var(--color-text)) !important;
  }
  
  .toaster [data-sonner-toast][data-type="loading"] svg {
    color: hsl(var(--color-info)) !important;
  }
  
  /* Ensure text is visible in all toasts */
  .toaster [data-sonner-toast] {
    color: hsl(var(--color-text)) !important;
  }
  
  .toaster [data-sonner-toast] [data-description] {
    color: hsl(var(--color-text)) !important;
    opacity: 0.9;
  }
}

